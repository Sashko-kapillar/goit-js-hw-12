import{a as y,S as L,i as d}from"./assets/vendor-CJy7kY9F.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&m(h)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const v="46100469-a9a71a6d23d5188e64cb63582";async function u(s,e){return(await y.get("https://pixabay.com/api/",{params:{key:v,q:s,image_type:"photo",orientation:"",safesearch:"true",page:e,per_page:15}})).data}const f=document.querySelector(".gallery");let w=new L(".gallery a",{captionsData:"alt",captionDelay:250});function p(s){s.forEach(e=>{const n=document.createElement("li");n.classList.add("gallery-item"),n.innerHTML=`
      <a href="${e.largeImageURL}">
        <img src="${e.webformatURL}" alt="${e.tags}" class="gallery-image">
      </a>
    `,f.appendChild(n)}),w.refresh()}function S(){f.innerHTML=""}const b=document.querySelector(".search-form"),q=document.querySelector(".search"),o=document.querySelector(".load-more");o.classList.add("hidden");const i=document.querySelector(".loader");i.classList.add("hidden");let c="",g=1,a=0,l=0;b.addEventListener("submit",async s=>{if(s.preventDefault(),i.classList.remove("hidden"),o&&o.classList.add("hidden"),g=1,c=q.value.trim(),c===""){i.classList.add("hidden"),d.warning({message:"Please fill this field",position:"topCenter"});return}S(),a=0;try{const{hits:e,totalHits:n}=await u(c,g);if(e.length===0){d.info({message:"Sorry, такий собі запит... Придумай щось краще!",position:"topCenter",color:"red"}),i.classList.add("hidden"),o.classList.add("hidden");return}l=n,a+=e.length,p(e),o.classList.remove("hidden"),i.classList.add("hidden"),console.log(a),console.log(l),a<l&&(o.classList.remove("hidden"),i.classList.add("hidden")),a>=l&&(o.classList.add("hidden"),d.info({message:"Ой, це що, вже кінець колекції ?",position:"topCenter",color:"green"}))}catch(e){console.error("Error during receiving images:",e),d.error({message:"Something went wrong! Please try again later.",position:"topCenter"}),i.classList.add("hidden")}});o.addEventListener("click",async()=>{g++,i.classList.remove("hidden");try{o.classList.add("hidden");const{hits:s}=await u(c,g);a+=s.length,i.classList.add("hidden"),p(s),console.log(a),console.log(l),a<l&&(o.classList.remove("hidden"),i.classList.add("hidden")),a>=l&&(o.classList.add("hidden"),d.info({message:"Ой, це що, вже кінець колекції ?",position:"topCenter",color:"green"}));const{height:e}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:e*3,behavior:"smooth"})}catch(s){console.error("Error loading additional images:",s)}finally{let s=l-a;d.info({message:`далі буде ...ще ... ${s} ... картинок`,position:"topCenter"})}});
//# sourceMappingURL=index.js.map
