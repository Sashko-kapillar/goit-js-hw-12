import{a as y,S as L,i as d}from"./assets/vendor-CJy7kY9F.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))g(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&g(u)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function g(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const v="46100469-a9a71a6d23d5188e64cb63582";async function h(r,e){return(await y.get("https://pixabay.com/api/",{params:{key:v,q:r,image_type:"photo",orientation:"",safesearch:"true",page:e,per_page:15}})).data}const f=document.querySelector(".gallery");let S=new L(".gallery a",{captionsData:"alt",captionDelay:250});function p(r){r.forEach(e=>{const n=document.createElement("li");n.classList.add("gallery-item"),n.innerHTML=`
      <a href="${e.largeImageURL}">
        <img src="${e.webformatURL}" alt="${e.tags}" class="gallery-image">
      </a>
    `,f.appendChild(n)}),S.refresh()}function b(){f.innerHTML=""}const w=document.querySelector(".search-form"),q=document.querySelector(".search"),o=document.querySelector(".load-more");o.classList.add("hidden");const i=document.querySelector(".loader");i.classList.add("hidden");let c="",m=1,a=0,l=0;w.addEventListener("submit",async r=>{if(r.preventDefault(),i.classList.remove("hidden"),o&&o.classList.add("hidden"),m=1,c=q.value.trim(),c===""){i.classList.add("hidden"),d.warning({message:"Sorry, це типу що? порожнє поле у запиті? напиши кілька літер... і то не та кілька, що вконсервах продають :)",position:"topCenter"});return}b(),a=0;try{const{hits:e,totalHits:n}=await h(c,m);if(e.length===0){d.info({message:"Sorry, такий собі запит... Придумай щось краще!",position:"topCenter",color:"red"}),i.classList.add("hidden"),o.classList.add("hidden");return}l=n,a+=e.length,p(e),o.classList.remove("hidden"),i.classList.add("hidden"),console.log(a),console.log(l),a<l&&(o.classList.remove("hidden"),i.classList.add("hidden")),a>=l&&(o.classList.add("hidden"),d.info({message:"Ой, це що, вже кінець колекції ?",position:"topCenter",color:"green"}))}catch(e){console.error("Error during receiving images:",e),d.error({message:"А то вже капець як страшно! Please try again later.",position:"topCenter"}),i.classList.add("hidden")}});o.addEventListener("click",async()=>{m++,i.classList.remove("hidden");try{o.classList.add("hidden");const{hits:r}=await h(c,m);a+=r.length,i.classList.add("hidden"),p(r),console.log(a),console.log(l),a<l&&(o.classList.remove("hidden"),i.classList.add("hidden")),a>=l&&(o.classList.add("hidden"),d.info({message:"Ой, це що, вже кінець колекції ?",position:"topCenter",color:"green"}));const{height:e}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:e*3,behavior:"smooth"})}catch(r){console.error("Error loading additional images:",r)}finally{let r=l-a;d.info({message:`Прикинь - це ще не все ... далі буде ...ще ... ${r} ... картинок`,position:"topCenter"})}});
//# sourceMappingURL=index.js.map
